<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Booze Street Culture - Roleta de Prêmios</title>
    <style>
        body {
            text-align: center;
            font-family: Arial, sans-serif;
            background-color: black;
            color: white;
        }
        #wheelCanvas {
            border: 5px solid #fff;
            border-radius: 50%;
            margin-top: 20px;
            background-color: rgba(0,0,0,0.7);
        }
        button {
            padding: 12px 24px;
            font-size: 16px;
            margin-top: 20px;
            background-color: #00FFD1;
            color: black;
            border: none;
            cursor: pointer;
        }
        button:disabled {
            background-color: #555;
            color: #ccc;
        }
        .info-message {
            margin-top: 20px;
            font-size: 14px;
            color: #00FFD1;
        }
    </style>
</head>
<body>

<h1>Booze Street Culture - Roleta de Prêmios</h1>

<canvas id="wheelCanvas" width="400" height="400"></canvas><br>
<button id="spinButton" onclick="spinWheel()">Girar a Roleta</button>
<p id="message"></p>

<p class="info-message">Os prêmios serão retirados durante a Booze Street Culture, no dia 9 de agosto de 2025.</p>

<script>
    const canvas = document.getElementById('wheelCanvas');
    const ctx = canvas.getContext('2d');
    const options = [
        "1 Copo Booze",
        "1 Camisa",
        "1 Shot",
        "1 Ingresso",
        "Desconto de 30%",
        "Desconto de 15%"
    ];
    const colors = ["#000000", "#FFFFFF", "#000000", "#FFFFFF", "#000000", "#FFFFFF"];
    let angle = 0;
    let spinning = false;

    function drawWheel() {
        const arcSize = (2 * Math.PI) / options.length;
        for (let i = 0; i < options.length; i++) {
            const startAngle = angle + i * arcSize;
            ctx.beginPath();
            ctx.moveTo(200, 200);
            ctx.arc(200, 200, 200, startAngle, startAngle + arcSize);
            ctx.fillStyle = colors[i];
            ctx.fill();
            ctx.stroke();
            ctx.save();
            ctx.translate(200, 200);
            ctx.rotate(startAngle + arcSize / 2);
            ctx.fillStyle = colors[i] === "#000000" ? "white" : "black";
            ctx.font = "bold 14px Arial";
            ctx.fillText(options[i], 60, 0);
            ctx.restore();
        }
    }

    function spinWheel() {
        if (spinning) return;
        spinning = true;
        let spins = Math.random() * 1000 + 2000;
        let interval = setInterval(() => {
            angle += 0.1;
            ctx.clearRect(0, 0, 400, 400);
            drawWheel();
            spins -= 10;
            if (spins <= 0) {
                clearInterval(interval);
                spinning = false;
                const winnerIndex = Math.floor((options.length - ((angle / (2 * Math.PI)) % 1) * options.length)) % options.length;
                alert("Você ganhou: " + options[winnerIndex] + "\\n\\nOs prêmios serão retirados durante a Booze Street Culture, no dia 9 de agosto de 2025.\\n\\nTire um print da tela e compartilhe com a gente no @festabooze para garantir o seu prêmio!");
                localStorage.setItem('roletaGirada', 'true');
                document.getElementById('spinButton').disabled = true;
            }
        }, 10);
    }

    drawWheel();

    window.onload = function() {
        const now = new Date();
        const year = now.getFullYear();
        const month = now.getMonth() + 1;
        const day = now.getDate();
        const hour = now.getHours();
        const spinButton = document.getElementById('spinButton');
        const message = document.getElementById('message');

        if (year === 2025 && month === 6 && day === 28 && hour >= 18 && hour <= 23) {
            if (localStorage.getItem('roletaGirada') === 'true') {
                spinButton.disabled = true;
            }
        } else {
            spinButton.disabled = true;
            message.innerText = "A roleta só estará disponível no dia 28 de junho de 2025 entre 18h e 23h59.";
        }
    }
</script>

</body>
</html>
